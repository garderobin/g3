qext.event={};qext.event.create=function(b,f){qext.event.events=qext.event.events||{};var d=qext.event.events;if(b in d){var e=d[b];for(var c=0,a=e.length;c<a;c++){if(e[c].src===f){throw new Error("The event has been created")}}}d[b]=d[b]||[];d[b].push({src:f,callback:[]})};qext.event.addEventListener=function(f,b,d){var e=qext.event.events[b];if(!e){throw new Error("The event of "+b+" is undefind")}if(typeof d!=="function"){throw new Error("The thrid argument must be a  Function")}var g=false;for(var c=0,a=e.length;c<a;c++){if(f.constructor===e[c].src||f instanceof e[c].src){e[c].callback.push({obj:f,fn:d});g=true;break}}if(!g){throw new Error("The obj type is not support for this event")}};qext.event.removeEventListener=function(e,c,k){var b=qext.event.events[c];if(!b){throw new Error("The event of "+c+" is undefind")}if(typeof k!=="function"){throw new Error("The thrid argument must be a  Function")}var a=false;for(var f=0,g=b.length;f<g;f++){if(e.constructor===b[f].src||e instanceof b[f].src){var h=b[f].callback;for(var d=0,g=h.length;d<g;d++){if(h[d].fn===k&&h[d].obj===e){h.splice(d,1)}}a=true;break}}if(!a){throw new Error("The obj type is not support for this event")}};qext.event.engine=function(d,g){var f=qext.event.events[d];for(var e=0,b=f.length;e<b;e++){if(g.constructor===f[e].src||g instanceof f[e].src){var a=f[e].callback;for(var c=0,b=a.length;c<b;c++){var h=a[c];if(g===h.obj){h.fn.apply(h.obj,[].slice.call(arguments,2))}}break}}};var qani={};qani.animation=qani.animation=function(a,b){return new qani.Animation(a,b)};qani.animation.status={INITIALED:0,STATED:1,STOPED:2,CONTINUE:3,RESETED:4,FINISH:5,BACK:6};qani.animation.ext={};qani.Animation=function(a,b){this.animer=a;this.duration=b||500;this.animer.changes=[].concat(this.animer.changes);this.isRunning=false;this.passedTime=0;this.status=qani.animation.status.INITIALED};qext.event.create("onstart",qani.Animation);qext.event.create("onstop",qani.Animation);qext.event.create("oncontinue",qani.Animation);qext.event.create("onfinish",qani.Animation);qext.event.create("onreset",qani.Animation);qext.event.create("onrenderbegin",qani.Animation);qext.event.create("onrenderend",qani.Animation);qani.Animation.tween={even:function(a,f,h,c,g){return a+(f-a)*(h-c)/g},accelerate:function(a,g,i,c,h){var f=(i-c)/h;return a+(g-a)*f*f},strongAccelerate:function(a,g,i,c,h){var f=(i-c)/h;return a+(g-a)*f*f*f*f},decelerate:function(a,g,i,c,h){var f=(i-c)/h;return a-(g-a)*f*(f-2)},strongDecelerate:function(a,g,i,c,h){var f=(i-c)/h;return a-(g-a)*((f-=1)*f*f*f-1)},ac2deCelerate:function(a,g,i,c,h){var f=(i-c)/h;if((f/=0.5)<1){return a+(g-a)/2*f*f}return a-(g-a)/2*((--f)*(f-2)-1)},strongAc2deCelerate:function(a,g,i,c,h){var f=(i-c)/h;if((f/=0.5)<1){return a+(g-a)/2*f*f*f*f}return a-(g-a)/2*((f-=2)*f*f*f-2)},back2accelerate:function(a,g,i,c,h){var f=(i-c)/h,c=1.70158;return a+(g-a)*f*f*((c+1)*f-c)},accelerate2back:function(a,g,i,c,h){var f=(i-c)/h,c=1.70158;return a+(g-a)*((f=f-1)*f*((c+1)*f+c)+1)},back2back:function(a,g,i,c,h){var f=(i-c)/h,c=1.70158;if((f/=0.5)<1){return a+(g-a)/2*(f*f*(((c*=(1.525))+1)*f-c))}return a+(g-a)/2*((f-=2)*f*(((c*=(1.525))+1)*f+c)+2)},bounce2Accelerate:function(a,g,i,c,h){var f=1-(i-c)/h;if(f<(1/2.75)){return a+(g-a)*(1-7.5625*f*f)}else{if(f<(2/2.75)){return a+(g-a)*(0.25-7.5625*(f-=(1.5/2.75))*f)}else{if(f<(2.5/2.75)){return a+(g-a)*(0.0625-7.5625*(f-=(2.25/2.75))*f)}}}return a+(g-a)*(0.015625-7.5625*(f-=(2.625/2.75))*f)},accelerate2bounce:function(a,g,i,c,h){var f=(i-c)/h;if(f<(1/2.75)){return a+(g-a)*(7.5625*f*f)}else{if(f<(2/2.75)){return a+(g-a)*(7.5625*(f-=(1.5/2.75))*f+0.75)}else{if(f<(2.5/2.75)){return a+(g-a)*(7.5625*(f-=(2.25/2.75))*f+0.9375)}}}return a+(g-a)*(7.5625*(f-=(2.625/2.75))*f+0.984375)},bounce2bounce:function(a,h,j,f,i){var g=(j-f)/i,c=qani.Animation.tween;if(g<0.5){return(c.bounce2Accelerate(a,h,j,f,i/2)+a)*0.5}return c.accelerate2bounce(a,h,2*j-i,2*f,i)*0.5}};qani.Animation.numeric={pxParse:function(a){return parseInt(a)},pxMulParse:function(d){var c=typeof d==="string"?d.split(" "):d;var b=c.length;for(var a=0;a<b;a++){c[a]=parseInt(c[a])||0}switch(b){case 4:break;case 3:c[3]=c[2];break;case 2:c[3]=c[0];c[2]=c[1];break;case 1:c[3]=c[2]=c[1]=c[0];break}return c}};qani.Animation.denumeric={pxParse:function(a){if(!(typeof a==="number")){throw new Error("Type of argument must be a number")}return a+"px"},pxMulParse:function(d){if(!typeof d==="array"){throw new Error("Type of argument must be a array")}var c=[];for(var b=0,a=d.length;b<a;b++){c.push(d[b]+"px")}return c.join(" ")}};qani.Animation.getData={getStyle:function(b,a){return T.dom.getStyle(b,a)}};qani.Animation.setData={setStyle:function(c,a,b){return T.dom.setStyle(c,a,b)}};qani.Animation.defaultVal={numeric:qani.Animation.numeric.pxParse,denumeric:qani.Animation.denumeric.pxParse,getData:qani.Animation.getData.getStyle,setData:qani.Animation.setData.setStyle,tween:qani.Animation.tween.even};qani.Animation.typeInfos=(function(){var c=["width","height","top","right","bottom","left","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","font-size"];var d={};var e=qani.Animation.defaultVal;for(var b=0,a=c.length;b<a;b++){d[c[b]]={};d[c[b]]["numeric"]=qani.Animation.defaultVal.numeric;d[c[b]]["denumeric"]=qani.Animation.defaultVal.denumeric;d[c[b]]["getData"]=qani.Animation.defaultVal.getData;d[c[b]]["setData"]=qani.Animation.defaultVal.setData;d[c[b]]["tween"]=qani.Animation.defaultVal.tween}return d})();qani.Animation.typeInfos.margin=qani.Animation.typeInfos.padding=qani.Animation.typeInfos["border-width"]={numeric:qani.Animation.numeric.pxMulParse,denumeric:qani.Animation.denumeric.pxMulParse,getData:qani.Animation.defaultVal.getData,setData:qani.Animation.defaultVal.setData,tween:qani.Animation.defaultVal.tween};qani.Animation.animeList=[[]];qani.Animation.run=function(c){var e=c;function b(g){var r=(g&&g>1000000)?g:new Date().getTime();if(e.length===0){e.isRunning=false;return}for(var w=0,y=e.length;w<y;w++){var k=e[w];if(k.isRunning){qext.event.engine("onrenderbegin",k);var B=k.status!==qani.animation.status.CONTINUE?k.begin:k.continueTime;var f=k.duration;var q=k.animer;var C=q.changes;var o=q.obj;var m=qani.Animation.typeInfos;if(r>(f+B)){for(var v=0,z=C.length;v<z;v++){var l=C[v];var t=l.type;var h=m[t];h.setData(o,l.type,h.denumeric(l.to))}k.status=qani.animation.status.FINISH;qext.event.engine("onrenderend",k);qext.event.engine("onfinish",k);k.isRunning=false;e.isFullFiled=false;e.splice(w--,1);y=e.length;continue}for(var v=0,D=C.length;v<D;v++){var l=C[v];var t=l.type;var h=m[t];var A=l.to;var x=l.now;var p=[];if(A.length){x=[].concat(x);for(var s=0,u=A.length;s<u;s++){changeNowN=x[s]||0;p[s]=l.tween(x[s],A[s],r,B,f)}}else{p=l.tween(x,l.to,r,B,f)}x=p;h.setData(o,t,h.denumeric(p))}k.paintTime=r;qext.event.engine("onrenderend",k)}}if(!e.isRunning){e.isRunning=true}d(b)}var d=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(f){setTimeout(f,20)};var a=window.mozAnimationStartTime||new Date().getTime();d(b)};qani.Animation.prototype.start=function(){if(this.isRunning){return}qext.event.engine("onstart",this);this.isRunning=true;this.status=qani.animation.status.STATED;var p=this.animer;var l=qani.Animation.typeInfos;var v=p.changes;var m=p.obj;for(var r=0,s=v.length;r<s;r++){var k=v[r];if(!(k.type in l)||(l[k.type].testBrowser&&!l[k.type].testBrowser())){v.splice(r--,1);s=v.length;continue}if(typeof k.to==="undefined"){throw new Error('The animation "to" can not be undefined!')}var b=k.type;var e=l[b];var d=e.numeric;var u=e.denumeric;var n=e.getData;var c=e.setData;if(typeof k.from!=="undefined"){k.from=d(k.from)}else{var w=d(n(m,b));k.from=w||0}k.now=k.from;k.to=d(k.to);if(k.tween){if(typeof k.tween==="string"){if(!qani.Animation.tween[k.tween]){throw new Error(k.tween+" is undefined")}k.tween=qani.Animation.tween[k.tween]}}else{k.tween=qani.Animation.defaultVal.tween}}this.paintTime=this.begin=new Date().getTime();var g=true;var a=5;var o=qani.Animation.animeList;for(var r=0,s=o.length;r<s;r++){var f=o[r];var h=0;for(var q=0,t=f.length;q<t;q++){h+=f[q].animer.changes.length}if(!f.isFullFiled){f.push(this);if(!f.isRunning){qani.Animation.run(f)}if(h>a){f.isFullFiled=true}g=false;break}}if(g){var f=[this];o.push(f);qani.Animation.run(f)}};qani.Animation.prototype.stop=function(){if(!this.isRunning){return}var g=qani.Animation.animeList;var f=this;for(var c=0,a=g.length;c<a;c++){var e=g[c];for(var b=0,d=e.length;b<d;b++){if(f===e[b]){f.passedTime=f.status!==qani.animation.status.CONTINUE?(f.paintTime-f.begin):(f.paintTime-f.continueTime);f.status=qani.animation.status.STOPED;f.isRunning=false;qext.event.engine("onstop",f);return}}}};qani.Animation.prototype.keepon=function(){if(this.isRunning||(!this.status===qani.animation.status.STOPED)){return}var f=this;var g=qani.Animation.animeList;f.continueTime=new Date().getTime()-f.passedTime;for(var c=0,a=g.length;c<a;c++){var e=g[c];for(var b=0,d=e.length;b<d;b++){if(f===e[b]){f.status=qani.animation.status.CONTINUE;f.isRunning=true;qext.event.engine("oncontinue",f);return}}}};qani.Animation.prototype.reset=function(){var k=qani.Animation.animeList;var l=qani.Animation.typeInfos;var g=this;for(var e=0,f=k.length;e<f;e++){var a=k[e];for(var d=0,b=a.length;d<b;d++){var c=a[d];if(g===c){for(var o=0,m=g.animer.changes.length;o<m;o++){var h=g.animer.changes[o];var n=l[h.type];if(!n){throw new Error("Not support this type")}n.setData(c.animer.obj,h.type,n.denumeric(h.from));h.now=h.from}a.splice(d--,1);g.isRunning=false;qext.event.engine("onreset",g);return}}}};qani.Animation.prototype.destroy=function(){var h=qani.Animation.animeList;var g=this;for(var d=0,a=h.length;d<a;d++){var f=h[d];for(var c=0,e=f.length;c<e;c++){var b=f[c];(g===b)&&f.splice(c--,1)}}};qani.Animation.prototype.on=function(c,b){var a=this;switch(c){case"start":qext.event.addEventListener(a,"onstart",b);break;case"stop":qext.event.addEventListener(a,"onstop",b);break;case"continue":qext.event.addEventListener(a,"oncontinue",b);break;case"finish":qext.event.addEventListener(a,"onfinish",b);break;case"reset":qext.event.addEventListener(a,"onreset",b);break;case"renderbegin":qext.event.addEventListener(a,"onrenderbegin",b);break;case"renderend":qext.event.addEventListener(a,"onrenderend",b);break}};qani.Animation.create=function(d,c){var d=[].concat(d);var e=qani.Animation.typeInfos;for(var b=0,a=d.length;b<a;b++){if(d[b] in e){throw new Error("This anime has already definde")}e[d[b]]={};e[d[b]]["testBrowser"]=c.testBrowser||function(){return true};e[d[b]]["numeric"]=c.numeric||qani.Animation.defaultVal.numeric;e[d[b]]["denumeric"]=c.denumeric||qani.Animation.defaultVal.denumeric;e[d[b]]["getData"]=c.getData||qani.Animation.defaultVal.getData;e[d[b]]["setData"]=c.setData||qani.Animation.defaultVal.setData;e[d[b]]["tween"]=c.tween||qani.Animation.defaultVal.tween}};qani.animate=qani.animate=function(d,k,o,b){if(arguments.length<2){throw new Error("Animate need 2 arguments!")}if(arguments.length===2||(arguments.length===3&&typeof arguments[2]==="number")){var b=o||500;if(k.type&&k.to){var f=qani.animation({obj:d,changes:k},b);f.start();return f}var m=k;var n=[];for(var e in m){var a=/(.+)\$tween *: *(\S+)/.exec(m[e]);var h={type:e};if(a){h.to=a[1];h.tween=a[2]}else{h.to=m[e]}n.push(h)}var f=qani.animation({obj:d,changes:n},b);f.start();return f}var b=b||500;var l=k;var m=o;var n=[];for(var e in m){var g;for(var c in l){if(e===c){g=l[c]}}var h={type:e};if(typeof g!=="undefined"){h.from=g}var a=/(.+)\$tween: *(\S+)/.exec(m[e]);if(a){h.to=a[1];h.tween=a[2]}else{h.to=m[e]}n.push(h)}var f=qani.animation({obj:d,changes:n},b);f.start();return f};(function(a){qani.Animation.create("opacity",{numeric:function(b){return parseFloat(b)},denumeric:function(b){return b},getData:function(f,d){if(!(typeof document.body.style.opacity==="undefined")){var c=T.dom.getStyle(f,"opacity");return c||1}var e=T.dom.getStyle(f,"filter");var b=/opacity *={1} *(\d+)/.exec(e);return b?(b[1]/100):1},setData:function(d,b,c){if(!(typeof document.body.style.opacity==="undefined")){d.style.opacity=c}d.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+parseInt(c*100)+")"}})})(window);(function(b){var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};var a=[];qani.Animation.create(["background","border","border-color","border-top-color","border-right-color","border-bottom-color","border-left-color","background-color","outline-color","color"],{numeric:function(e){var d,i=[],h="".toLocaleLowerCase.call(e);if(e&&e.constructor==Array&&e.length%3==0){return e}else{if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e)){i=[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}else{if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e)){i=[parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55]}else{if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e)){i=[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}else{if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e)){i=[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}}}}if(i.length>0){var f=d.index;a[0]=e.substring(0,f);a[1]=e.substring(f+d[0].length);return i}var g=c;for(var j in g){if(h.indexOf(j)!=-1){var f=h.indexOf(j);a[0]=e.substring(0,f);a[1]=e.substring(f+j.length);return g[j]}}return[0,0,0]},denumeric:function(d){return a[0]+"rgb("+Math.max(Math.min(parseInt(d[0]),255),0)+", "+Math.max(Math.min(parseInt(d[1]),255),0)+", "+Math.max(Math.min(parseInt(d[2]),255),0)+")"+a[1]}})})(window);(function(c){var a=(function(){if(T.browser.isGecko){return function(g,f){var e=g.style.MozTransform;var d=/rotate *\( *(\d+) *deg\)/.exec(e);return d?d[1]:0}}else{if(T.browser.isWebkit){return function(g,f){var e=g.style.webkitTransform;var d=/rotate *\( *(\d+) *deg\)/.exec(e);return d?d[1]:0}}else{if(T.browser.opera){return function(g,f){var e=g.style.OTransform;var d=/rotate *\( *(\d+) *deg\)/.exec(e);return d?d[1]:0}}else{return function(g,f){var e=g.style.transform;var d=/rotate *\( *(\d+) *deg\)/.exec(e);return d?d[1]:0}}}}})();var b=(function(){if(T.browser.isGecko){return function(f,d,e){f.style.MozTransform=e}}else{if(T.browser.isWebkit){return function(f,d,e){f.style.webkitTransform=e}}else{if(T.browser.opera){return function(f,d,e){f.style.OTransform=e}}else{return function(f,d,e){f.style.transform=e}}}}})();qani.Animation.create("rotate",{denumeric:function(d){return"rotate("+d+"deg)"},getData:a,setData:b,testBrowser:function(){var d=document.body.style;if(typeof d.MozTransform!=="undefined"||typeof d.webkitTransform!=="undefined"||typeof d.OTransform!=="undefined"||typeof d.transform!=="undefined"){return true}return false}})})(window);(function(a){qani.Animation.create("scroll",{numeric:function(b){return parseInt(b)},denumeric:function(b){return b},getData:function(c,b){return c.scrollTop},setData:function(d,b,c){d.scrollTop=c}})})(window);(function(){qani.animation.fadeIn=qani.animation.ext.fadeIn=function(d,c,b){var d=qing.dom.g(d);var c=c||500;d.style.opacity="0";d.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:0)";d.style.display=="";var a=qani.animation({obj:d,changes:{type:"opacity",from:0,to:1,tween:b||"even"}},c);a.start();return a}})();(function(){qani.animation.fadeOut=qani.animation.ext.fadeOut=function(d,c,b){var d=qing.dom.g(d);var c=c||500;var a=qani.animation({obj:d,changes:{type:"opacity",to:0,tween:b||"even"}},c);a.start();return a}})();(function(){qani.animation.expand=qani.animation.ext.expand=function(e,d,b){var e=qing.dom.g(e);e.style.visibility="hidden";if(e.style.display="none"){e.style.display=""}var f=qing.dom.getCurrentStyle(e,"height")||e.offsetHeight;var c=parseInt(f)||e.offsetHeight;var d=d||500;var a=qani.animation({obj:e,changes:{type:"height",from:0,to:c,tween:b||"even"}},d);e.style.visibility="visible";a.start();a.on("finish",function(){e.style.height=f});return a}})();